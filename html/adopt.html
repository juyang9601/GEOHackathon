<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
  		<meta name="viewport" content="width=device-width, initial-scale=1">
  		<title>Adopt a tree in the Amazon</title>

		<link rel="stylesheet" href="css/styles.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	  <link rel="stylesheet" href="../css/leaflet-search.css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://d3js.org/d3.v4.min.js"></script>

		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
		   integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
		   crossorigin=""/>
		   <!-- Make sure you put this AFTER Leaflet's CSS -->
		<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
		  integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
		  crossorigin=""></script>
		<script src="../js/leaflet-search.js"></script>
		<script type="text/javascript" src="../js/test.js"></script>

			<style> #map { width: 900px; height: 1500px; }
			/* Set height of the grid so .sidenav can be 100% (adjust if needed) */
    .row.content {height: 1500px}
		.navbar {
		  margin-bottom: 0;
		  background-color: #52BE80;
		  z-index: 9999;
		  border: 0;
		  font-size: 18px !important;
		  line-height: 1.42857143 !important;
		  letter-spacing: 4px;
		  border-radius: 0;
		}
		.navbar li a, .navbar .navbar-brand {
		  color: #fff !important;
		}

		.navbar-nav li a:hover, .navbar-nav li.active a {
		  color: #52BE80 !important;
		  background-color: #fff !important;
		}

		.navbar-default .navbar-toggle {
		  border-color: transparent;
		  color: #fff !important;
		}
    /* Set gray background color and 100% height */
    .sidenav {
      background-color: #f1f1f1;
			padding: 80px 25px;
    }
			 </style>
	</head>

	<nav class="navbar navbar-default navbar-fixed-top">
	  <div class="container">
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>

	    </div>
	    <div id="google_translate_element"></div>

	      <script type="text/javascript">
	          function googleTranslateElementInit() {
	              new google.translate.TranslateElement(
	                  {pageLanguage: 'en'},
	                  'google_translate_element'
	              );
	          }
	      </script>
				<h><font size="6" color="white">Adopt a tree, help with climate change mitigation</font></h>
	      <script type="text/javascript" src="../js/element.js?cb=googleTranslateElementInit"></script>
	    <div class="collapse navbar-collapse" id="myNavbar">
	      <ul class="nav navbar-nav navbar-right">
	        <li><a href="../index.html">About</a></li>
	        <li><a href="adopt.html">Adopt</a></li>
	        <li><a href="checkout.html">Donate</a></li>
	        <li><a href="knowledge.html">Learn more</a></li>
	      </ul>
	    </div>
	  </div>
	</nav>

<body>
			<div class="sidenav container-fluid">
			  <div class="row">
			    <div class="col-sm-3 sidenav">
			      <h2>Adopt a tree</h2>
						<div>
							<p><strong>Your information</strong></p>
							<input class="form-control" id="name" name="name" placeholder="Name" type="text" required>
						</div>
						<br>
						<div>
							<input class="form-control" id="email" name="email" placeholder="Email" type="text" required>
						</div>
						<br>
						<div>
						<p><strong>How  many trees would you like to adopt?</strong></p>
						<p>(In one year, a mature tree will absorb more than 48 pounds of carbon dioxide from the atmosphere and release oxygen in exchange.)</p>
						<input class="form-control" id="number" name="number" placeholder="number of trees" type="number" required>
					</div><br>
						<div>
							<textarea class="form-control" id="comments" name="comments" placeholder="Comment" rows="5"></textarea>
						</div>
						<div class="col-sm-12 form-group">
							<a href="checkout.html" target="_blank">
			          <br><button class="btn btn-default btn-lg">Adopt</button>
			        </a>
						</div>
			    </div>
			    <div class="col-sm-9 sidenav">

						<div id="first">
						</div>
						<div align = "center" id="mapid" style="width: 900px; height: 550px;"></div>
						<script>
						var mymap = L.map('mapid').setView([-2,-77], 7.5);
						</script>
			    </div>
			  </div>
			</div>



<script>
		var tileServer = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
		var tileAttribution = 'Map data: <a href="http://openstreetmap.org">OSM</a>';
		osm=L.tileLayer(tileServer, {attribution: tileAttribution,  maxZoom: 20}).addTo(mymap);
		mbUrl = 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';
mbAttr = 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community';
  base_layer = L.tileLayer(mbUrl, {
    id: 'mapbox.streets',
    attribution: mbAttr
  });
var baseMaps = {
    "OpenStreetMap": osm,
    "Satellite":base_layer
};

var overlays =  {//add any overlays here

    };

L.control.layers(baseMaps,overlays, {position: 'topleft'}).addTo(mymap);

    //var Ohio = L.geoJson(statesData,{style:style_state}).addTo(mymap);

		// create an icon object
		var locIcon = L.icon({
		    iconUrl: '../png/tree.png',
		    iconSize:     [28, 28], // size of the icon
		    iconAnchor:   [22, 22], // point of the icon which will correspond to marker's location
		    popupAnchor:  [-3, -26] // point from which the popup should open relative to the iconAnchor
    });

		function projectsLoc(feature, latlng) {
		      return L.marker(latlng, {icon: locIcon});
		};

		function bindPopup(feature, layer){
			feature.layer = layer;
			layer.bindPopup("<b>"+"Tree: "+"<b>"+feature.properties.ID+"</b>" + "<br/>"
			  + '<a href= "'+ feature.properties.links +'"> click here to see how your tree grows </a>');
		}

		var projects16 = L.geoJson(projectsData, {
			pointToLayer: projectsLoc,

			onEachFeature: bindPopup
		}).addTo(mymap);

		var searchControl = new L.Control.Search({
														layer: projects16 ,
														propertyName: 'ID',
														markerLocation:false,
														marker: L.circleMarker([0,0],{radius:20}),
														moveToLocation: function(latlng,ID, mymap) {
						//map.fitBounds( latlng.layer.getBounds() );
						var zoom = 10;
							mymap.setView(latlng, zoom); // access the zoom
					}});
		//console.log(universitiesType)
		searchControl.on('search:locationfound', function(e) {
						//console.log('search:locationfound', );
						e.layer.openPopup();
						}).on('search_collapsed', function(e) {
						marker.resetStyle(layer);
						});
		mymap.addControl( searchControl );  //inizialize search control

		</script>
	</body>
</html>
